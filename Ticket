import java.util.*;

public class Ticket extends TicketAbs {
    private Movie movie;  //associated movie with the ticket
    private Cinema cinema; //associated cinema of the movie, this will also provide seat number
    private Client client;  //purchasing client details
    private Date showtime;
    
    Scanner sc= new Scanner(System.in);

    public Ticket(Movie a, Cinema b, Client c, Date d ) {
    	movie = a;
    	cinema = b;
    	client = c;
    	showtime = d;
    }
    
    public int check_ticket_validity(double[][][][]price_ar) {
    	//invalid case
    	//used to try/throw exception in main method
    	if (price_ar[movie][cinema][client.age][showtime]==0)
    		return 0;
    	//valid case
    	else return 1;
    }
    
    public double getPrice(double[][][][]price_ar){
    	//method to get price of a ticket based on the factors
    	//take in parameter of a 4D array.
    	//each dimension corresponds to each factor that affects ticket price
    	//Inside the array slot we will put in the value of the ticket price
    	if (check_ticket_validity(price_ar)==1)
    		return price_ar[movie][cinema][client.age][showtime];
    	else return -1;
    }
    
    public void create_ticket_price(double[][][][]price_ar) {
    	//when there is a new movie, create the ticket pricings
    	System.out.println("PLease enter movie name:");
    	movie = sc.nextLine();
    	System.out.println("Please enter cinema:");
    	cinema = sc.nextLine();
    	System.out.println("Please enter showtime:");
    	showtime = sc.nextInt();
    	System.out.println("Please enter ticket price for child:");
    	price_ar[movie][cinema][client.age][showtime]= sc.nextInt();
    	System.out.println("Please enter ticket price for adults:");
    	price_ar[movie][cinema][client.age][showtime]= sc.nextInt();
    }
   
    
    public void edit_ticket_price(double new_price,double[][][][]price_ar) {
    	//for the staff to edit ticket price
    	price_ar[movie][cinema][client.age][showtime] = new_price;
    	
    }
    public Cinema getCinema() {
    	//method to return cinema associated with the ticket.
    	return cinema;
    }
    public Movie getMovie() {
    	//method to return the movie for the ticket
    	return movie;
    }
    public Date getShowtime() {
    	//method to return showtime of the ticket.
    	return date;
    }
}
